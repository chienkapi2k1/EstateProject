@using EstateProject.Models;
@model building
@{
    ViewBag.Title = "Building Detail";
    Layout = "~/Views/Shared/_LayoutBuildingDetail.cshtml";

    var urlapi = "https://127.0.0.1:44364/Client/BuildingDetail1/";
    urlapi = urlapi + Model.id;

}
@section graph{
    <meta property="og:title" name="title" content="How to Become an SEO Expert (8 Steps)" />
    <meta property="og:description" name="description" content="Get from SEO newbie to SEO pro in 8 simple steps." />
    <meta property="og:image" name="image" content="~/Assets/Client/img/DeLaThanh_1.jpg" />
    <meta property="og:url" name="url" content="@urlapi" />
    <meta property="og:type" name="type" content="article" />
}

<div id="fb-root"></div>
<script async defer crossorigin="anonymous" src="https://connect.facebook.net/vi_VN/sdk.js#xfbml=1&version=v13.0&appId=351378956825439&autoLogAppEvents=1" nonce="AhcW2UxH"></script>
<div class="main main-dt">
    <div class="container">
        <div class="main-cn bg-white clearfix">

            <!-- Breakcrumb -->
            <!-- End Breakcrumb -->
            <!-- Header Detail -->
            <section class="head-detail">
                <div class="head-dt-cn">
                    <div class="row">
                        <div class="col-sm-7">
                            <h1>@Model.name </h1>
                            <div class="start-address">
                                <span class="star">
                                    <i class="glyphicon glyphicon-star"></i>
                                    <i class="glyphicon glyphicon-star"></i>
                                    <i class="glyphicon glyphicon-star"></i>
                                    <i class="glyphicon glyphicon-star"></i>
                                    <i class="glyphicon glyphicon-star"></i>
                                </span>
                                <address class="address">
                                    @Model.name, @Model.street, @Model.ward, @Model.district
                                </address>

                            </div>
                        </div>
                        <div class="col-sm-5 text-right">
                            <div class="d-flex justify-content-between">
                                <p class="price-book price" data-price="@Model.rentprice"></p>
                                <a href="@Url.Action("AddContact","Client")" title="" class="awe-btn awe-btn-1 awe-btn-lager">Contact Now</a>
                            </div>
                        </div>
                    </div>
                </div>
            </section>
            <!-- End Header Detail -->
            <!-- Detail Slide -->
            <section class="detail-slider">
                <!-- Lager Image -->
                <div class="slide-room-lg">
                    <div id="slide-room-lg">
                        @{
                            for (var i = 0; i < 10; i++)
                            {
                                foreach (var item in Model.building_images)
                                {
                                    if (@item.building_id == Model.id)
                                    {
                                        <img style="height:500px;" src="@Url.Content("~/Assets/Client/img/" + @item.name )" alt="">
                                    }
                                }
                            }
                        }
                    </div>
                </div>
                <!-- End Lager Image -->
                <!-- Thumnail Image -->
                <div class="slide-room-sm">
                    <div class="row">
                        <div class="col-md-8 col-md-offset-2">
                            <div id="slide-room-sm">
                                @{
                                    for (var i = 0; i < 10; i++)
                                    {
                                        foreach (var item in Model.building_images)
                                        {
                                            if (@item.building_id == Model.id)
                                            {
                                                <img style="height:65px;" src="@Url.Content("~/Assets/Client/img/" + @item.name )" alt="">
                                            }
                                        }
                                    }
                                }
                            </div>
                        </div>
                    </div>
                </div>
                <!-- End Thumnail Image -->
            </section>
            <!-- End Detail Slide -->
            <!-- Hotel Content One -->
            <section class="hotel-content detail-cn" id="hotel-content">
                <div class="row">
                    <div class="col-lg-3 detail-sidebar">
                        <!-- Hight Light -->
                        <div class="hight-light">

                            <h2 style="font-size:35px">Contact broker</h2>
                            <div class="col-xs-12 col-sm-12 col-md-6 col-lg-12 vote-text">

                                <img style="height: 250px; width: auto; " src="@Url.Content(@Model.users.image)" alt="">
                                <h3 style="width:max-content;">@Model.users.fullname</h3>
                                <h4 style="width:max-content;">SĐT : @Model.users.phone</h4>
                                <h4 style="width:max-content; font-size:14px;">Email : @Model.users.email</h4>
                                <a href="@Url.Action("AddContact","Client")" title="" class="awe-btn awe-btn-1 awe-btn-lager price-book "><b style="font-size:18px; color:azure;" class="hover_contactnow">Contact Now</b></a>
                            </div>
                            <!-- Vote Text -->
                            <div class="row">
                                <!-- Recommend -->
                                <!-- End Tripadvitsor -->

                                <div class="col-xs-12 col-sm-12 col-md-6 col-lg-12">
                                    <hr class="hr">
                                </div>
                                <!--<div class="col-xs-6 col-sm-6 col-md-3 col-lg-6 vote-text">
                                    <p><span>95</span>%</p>
                                    <small>Member Recommend</small>
                                    <a href="#" title="">Read 36 Reviews</a>

                                </div>-->
                                <!-- End Recommend -->
                                <!-- Tripadvitsor -->
                                <!--<div class="col-xs-6 col-sm-6 col-md-3 col-lg-6  vote-text">
                                    <img src="~/Assets/Client/template/images/icon-tripadvitsor.png" alt="">
                                    <small>4.5 Very Good</small>
                                    <a href="#" title="">145 Reviews</a>
                                </div>-->
                            </div>
                            <!-- End Vote Text -->



                        </div>
                        <!-- End Hight Light -->
                    </div>

                    <!-- Description -->
                    <div class="col-lg-9 hl-customer-like">

                        <h2>Introduce</h2>

                        <!-- Custom link field -->
                        <div class="customer-like">
                            <span class="cs-like-label">
                                Address
                            </span>
                            <ul>
                                <li>@Model.name, @Model.street, @Model.ward, @Model.district , Ha Noi</li>
                            </ul>
                        </div>
                        @{
                            if (@Model.structure != null)
                            {
                                <div class="customer-like">
                                    <span class="cs-like-label">
                                        Structure
                                    </span>
                                    <ul>
                                        <li>@Model.structure </li>
                                    </ul>
                                </div>
                            }
                        }
                        @{
                            if (@Model.numberofbasement != null)
                            {
                                <div class="customer-like">
                                    <span class="cs-like-label">
                                        Number of basement
                                    </span>
                                    <ul>
                                        <li>@Model.numberofbasement </li>
                                    </ul>
                                </div>
                            }
                        }
                        @{
                            if (@Model.floorarea != null)
                            {
                                <div class="customer-like">
                                    <span class="cs-like-label">
                                        Floor area
                                    </span>
                                    <ul>
                                        <li>@Model.floorarea m²</li>
                                    </ul>
                                </div>
                            }
                        }
                        @{
                            if (@Model.direction != null)
                            {
                                <div class="customer-like">
                                    <span class="cs-like-label">
                                        Direction
                                    </span>
                                    <ul>
                                        <li>@Model.direction</li>
                                    </ul>
                                </div>
                            }
                        }

                        <div class="customer-like">
                            <span class="cs-like-label">
                                Type
                            </span>
                            <ul>
                                @{
                                    if (@Model.typess.ToString() == "NOI_THAT")
                                    {
                                        <li>Noi That</li>
                                    }
                                    if (@Model.typess.ToString() == "NGUYEN_CAN")
                                    {
                                        <li>Nguyen Can</li>
                                    }
                                    if (@Model.typess.ToString() == "TANG_TRET")
                                    {
                                        <li>Tang Tret</li>
                                    }
                                }
                            </ul>
                        </div>
                        <div class="policies-item">
                            <h3>Apartment Description</h3>
                            <p>
                                @Model.note
                                <br>
                                Morbi sed sollicitudin augue. Ut metus nibh, fringilla vitae mi in, aliquam ullamcorper nisl. Integer id tincidunt libero. Donec pharetra est sed suscipit efficitur. In a gravida quam. Aenean vel dolor augue. In nec lacinia enim, vitae fermentum elit. Aliquam non diam sed lectus commodo hendrerit.
                                <br>
                                Vivamus pulvinar nulla id massa congue varius. Etiam vitae nunc consectetur, porttitor purus ac, sagittis dui. Ut sit amet consectetur diam. Suspendisse mollis dapibus porta. In erat quam, pulvinar eu efficitur ut, malesuada nec augue. Pellentesque odio orci, interdum eu tortor sollicitudin, tincidunt placerat erat. Quisque pretium mauris at condimentum imperdiet.
                            </p>
                        </div>
                        <!-- End Custom link field -->

                    </div>
                    <!-- End Description -->
                </div>

            </section>
            </section>
            <!-- End Hotel Features -->
            <!-- Details-Policies -->


            <section class="details-policies detail-cn" id="details-policies">
                <div class="row">
                    <div class="col-lg-3 detail-sidebar">
                        <div class="scroll-heading">
                            <h2>Map</h2>
                            <hr class="hr">
                        </div>
                    </div>
                    <div class="col-lg-9 details-policies-cn">
                        <div class="col-lg-12" id='map' style="min-height:600px;border:0;"></div>
                    </div>
                </div>
            </section>

            <section class="details-policies detail-cn" id="details-policies">
                <div class="row">
                    <div class="col-lg-3 detail-sidebar">
                        <div class="scroll-heading">
                            <h2>Share</h2>
                            <hr class="hr">
                        </div>
                    </div>
                    <div class="col-lg-9 details-policies-cn">

                        <h3>Share on Facebook</h3>
                        <div class="fb-share-button" data-href="@urlapi" data-layout="button" data-size="large"><a target="_blank" href="https://www.facebook.com/sharer/sharer.php?u=https%3A%2F%2Fdevelopers.facebook.com%2Fdocs%2Fplugins%2F&amp;src=sdkpreparse" class="fb-xfbml-parse-ignore">Chia sẻ</a></div>

                        <br />
                        @*<div class="fb-like" data-href="https://localhost:44364/Client/BuildingDetail1/@Model.id" data-width="" data-layout="button" data-action="like" data-size="large" data-share="true"></div>
                            <br />*@
                        @*<div class="fb-comments" data-href="@urlapi" data-width="" data-numposts="5"></div>*@
                    </div>
                </div>
            </section>

            @*<section class="detail-footer detail-cn">
                    <div class="row">
                        <div class="col-lg-3"></div>
                        <div class="col-lg-9 detail-footer-cn"></div>
                    </div>
                </section>*@

            @*<section class="details-policies detail-cn" id="details-policies">
                    <div class="row">
                        <div class="col-lg-3 detail-sidebar">
                            <div class="scroll-heading">
                                <h2>Share</h2>
                                <hr class="hr">
                            </div>
                        </div>
                        <div class="col-lg-9 details-policies-cn">


                        </div>
                    </div>
                </section>*@

            <section class="detail-footer detail-cn">
                <div class="row">
                    <div class="col-lg-3"></div>
                    <div class="col-lg-9 detail-footer-cn"></div>
                </div>
            </section>

        </div>
    </div>
</div>

@section scripts {
    <script>
        $(document).ready(function () {
            let dollarUSLocale = Intl.NumberFormat('en-US');
            var getPrice = $('.price').attr('data-price');
            var price = dollarUSLocale.format(getPrice);
            var str = `$<span>${price}</span>/Month`;
            $('.price').html(str);
        });



        mapboxgl.accessToken = 'pk.eyJ1IjoiaGFpZGFuZzA4MDUiLCJhIjoiY2wxdDJmbzZ5MXRhbDNkcGRpbXpnaDR5OCJ9.GVs3_jJ9ZtPvSRwGDvVLJg';
        const map = new mapboxgl.Map({
            container: 'map',
            style: 'mapbox://styles/mapbox/streets-v11',
            center: [@Model.map],
            zoom: 11
        });

        var marker = new mapboxgl.Marker({
            color: "red", //Màu của Marker là đỏ
            draggable: true,
            anchor: 'bottom', //Nhãn Hà Nội nằm dưới Marker
        }).setLngLat([@Model.map]) //Thiết lập Marker tại hà Nội
            .addTo(map);

        map.addControl(new mapboxgl.NavigationControl({
            showCompass: true,
            showZoom: true,
        }));

        map.addControl(new mapboxgl.GeolocateControl({
            positionOptions: {
                enableHighAccuracy: true
            },
            trackUserLocation: true
        }));

    </script>
}

